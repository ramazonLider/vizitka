(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{41:function(t,e,a){Promise.resolve().then(a.t.bind(a,2853,23)),Promise.resolve().then(a.bind(a,2187)),Promise.resolve().then(a.bind(a,8676)),Promise.resolve().then(a.t.bind(a,9398,23))},2187:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Analytics}});var r=a(7437),n=a(2265);let pageview=t=>{void 0!==window.dataLayer?window.dataLayer.push({event:"page_view",page:t}):console.log({event:"page_view",page:t})};var o=a(4033);function Analytics(){let t=(0,o.usePathname)(),e=(0,o.useSearchParams)();return(0,n.useEffect)(()=>{t&&pageview(t)},[t,e]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("script",{id:"gtm-script",dangerouslySetInnerHTML:{__html:"\n                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n                })(window,document,'script','dataLayer', '".concat("GTM-MP3FW88N","');\n              ")}})})}},8676:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return ReduxProvider}});var r=a(7437),n=a(3198),o=a(663),d=a(7373);let setLocalStorageCart=t=>{localStorage.setItem("foodeeCart",JSON.stringify(t))},i={info:(()=>{let t=[];t=localStorage.getItem("foodeeCart");try{t=t&&"null"!==t&&t?JSON.parse(t):[]}catch(e){t=[]}return t})()},s=(0,o.oM)({name:"restaurant",initialState:i,reducers:{addToCart(t,e){let a=e.payload,r=t.info.find(t=>t.restaurantId===a.restaurantId),n=r.cart.some(t=>t.id===a.product.id);n?r.cart.map(t=>t.id===a.product.id?{...t,amount:++t.amount}:t):r.cart=[...r.cart,Object.assign({},a.product,{amount:1})],setLocalStorageCart(t.info)},setRestaurant(t,e){let a=e.payload,r=t.info.some(t=>t.restaurantId===a.restaurantId),n={restaurantId:a.restaurantId,tableNumber:a.t,cart:[]},o=t.info.find(t=>t.restaurantId===a.restaurantId);if(a.t&&o&&(o.tableNumber=a.t,setLocalStorageCart(t.info)),!r)return setLocalStorageCart([...t.info,n]),{...t,info:[...t.info,n]}},increment(t,e){let a=e.payload;t.info.find(t=>t.restaurantId===a.restaurantId).cart.map(t=>t.id===a.product.id?{...t,amount:++t.amount}:t),setLocalStorageCart(t.info)},decrement(t,e){let a=e.payload,r=t.info.find(t=>t.restaurantId===a.restaurantId),n=r.cart.find(t=>t.id===a.product.id);n.amount>1?r.cart.map(t=>t.id===a.product.id?{...t,amount:--t.amount}:t):r.cart=r.cart.filter(t=>t.id!==n.id),setLocalStorageCart(t.info)},removeProduct(t,e){let a=e.payload,r=t.info.find(t=>t.restaurantId===a.restaurantId),n=r.cart.find(t=>t.id===a.product.id);r.cart=r.cart.filter(t=>t.id!==n.id),setLocalStorageCart(t.info)},clearCart(t,e){let a=e.payload;t.info.find(t=>t.restaurantId===a.restaurantId).cart=[],setLocalStorageCart(t.info)}}}),{addToCart:u,setRestaurant:c,increment:l,decrement:f,removeProduct:m,clearCart:p}=s.actions;var g=a(5807);let y=(0,o.oM)({name:"profile",initialState:{account:{},zonId:"",isLoading:!0},reducers:{addProfile:(t,e)=>({...t,account:e.payload}),setZonId:(t,e)=>({...t,zonId:e.payload}),setIsLoading:(t,e)=>({...t,isLoading:e.payload})}}),{addProfile:h,setZonId:I,setIsLoading:v}=y.actions,w=(0,o.oM)({name:"menuData",initialState:{menu:[]},reducers:{setRestaurantMenu:(t,e)=>({...t,menu:e.payload})}}),{setRestaurantMenu:C}=w.actions,S=(0,d.UY)({restaurant:s.reducer,states:g.ZP.reducer,profile:y.reducer,restaurantMenu:w.reducer});function makeStore(){return(0,o.xC)({reducer:S})}let L=makeStore();function ReduxProvider(t){let{children:e}=t;return(0,r.jsx)(n.zt,{store:L,children:e})}},5807:function(t,e,a){"use strict";a.d(e,{m0:function(){return u}});var r=a(663),n=a(7713);let o={cardDisplay:"small",productsHasFetched:!1,language:(0,n.getCookie)("lang-zon")||"ru",currency:"sum",hash:""},d=(0,r.oM)({name:"states",initialState:o,reducers:{setDisplay:(t,e)=>({...t,cardDisplay:e.payload}),setFetchedProducts:(t,e)=>({...t,productsHasFetched:e.payload}),setLanguage(t,e){t.language=e.payload,(0,n.setCookie)("lang-zon",e.payload)},setHashChange:(t,e)=>({...t,hash:e.payload})}}),{setDisplay:i,setFetchedProducts:s,setLanguage:u,setHashChange:c}=d.actions;e.ZP=d},2853:function(){},9398:function(){}},function(t){t.O(0,[306,808,971,472,744],function(){return t(t.s=41)}),_N_E=t.O()}]);